# 云计算概述

云计算由两个词构成：云+计算，云计算以提供计算能力输出为主要目的，之所以称为云是因为其后端将一套通用的基础设施聚集在一起提供基础支撑，包括提供计算、存储等能力，云计算主要分为由云服务提供商提供的公有云服务和企业自建的私有云。目前公有云服务提供商非常多，包括百度、阿里、腾讯、华为等厂家，他们将各自的云基础设施资源发放到互联网，提供给互联网用户消费。将基础设施、计算能力等资源整合集中并输出给消费者，这是云计算的主要目标

各个云服务提供商将自己的云基础设施资源提供给消费者，这使得企业用户无需再自建数据中心，企业用户可以直接使用集中的云基础设施，包括计算、存储等资源，来达到运营“自建数据中心”的目的。这种服务模式的优势在于，云服务提供商的资源不再仅限于自身使用，可以将资源以服务的形式开放给所有互联网用户使用，极大的提高资源利用率，对于消费者而言，无需自建数据中心能够节省前期投入、运营、运维的成本

对于企业用户而言，使用云基础设施不仅能够节省成本，还能更快捷、高效的支撑业务，但其最大的劣势在于数据不在企业内部，数据作为企业的命脉大概率是不可能交由云服务提供商管理的，此时云计算看起来似乎无法满足业务需求。但正如云计算由云和计算组成，云代表资源的集中、通用、池化、按需消费等，计算在一定程度上也反馈出它是一个计算平台，计算仅仅是主机提供的计算业务或相应的处理器（CPU、GPU）提供的计算能力，数据是计算之后的输出。因此可以将计算需求交给云服务提供商的云基础设施解决，最终数据再回到企业内部，这种方式被称为混合云

**华为的云计算**

云计算的硬件基础设施只有两种：服务器、存储，撇开硬件基础设施的情况下，云计算的理论以及实践的大部分内容都是软件的学习使用，整套解决方案中不同的软件承担不同的作用，包含计算、存储、网络、容灾、备份、迁移等软件，因此华为云计算课程中以大量的软件产品学习为主

**华为云计算软件**

- Fusion Compute：服务器虚拟化软件
- Fusion Storage：分布式存储
- Fusion Access：桌面云
- Fusion Sphere OpenStack：云操作系统
- Manage One：云服务层管理软件
- BCManager eReplication：容灾软件
- BCManager eBackup：备份软件
- Rainbow：迁移软件

HCIA的学习主要介绍虚拟化技术和软件产品之一FusionCompute，其中虚拟化技术又分为**计算虚拟化**、**网络虚拟化**、**存储虚拟化**三大块，而后就是关于FusionCompute集群的一些特性介绍

## 云计算的定义

“云”，即网络资源，将底层基础设施资源抽象整合，并发布到互联网，为用户提供一个统一入口。“计算”，指足够强大的计算机提供的各种资源计算服务(包括各种功能，资源，存储)。“云计算”可以理解为：通过互联网使足够强大的计算机为互联网用户提供资源计算服务，这是一种全新的资源使用方式，这种服务的使用量可以使用统一的单位来描述。由云服务提供商（CSP）提供各种虚拟化资源，降低传统数据中心的运营成本

### 云计算的五大特征

1. **按需自助服务**

    根据业务不同能够满足的各种需求，申请云资源的整个过程是通过一套自动化软件实现的

    自建数据中心的场景下，随着业务量的增加需要采购设备，业务量降低时设备只能闲置，随着设备的更新迭代，数年后又需要采购新的设备。使用云基础设施的场景下，由云服务提供商负责硬件资源的更新迭代，企业只需要关注自身业务需求，根据业务需求购买云基础设施，使用到最新的硬件技术、能力

    在申请管云资源的整个过程中无需云服务提供商管理员的干预，云基础设施其实就是一个云数据中心，云数据中心的底层是具备足够能力的硬件基础设施，消费者只需要将自身请求转发给云平台，云平台会完成云基础设施、硬件基础设施的资源调度。所有复杂的调度、部署工作都被软件层屏蔽掉了

2. **广泛的网络接入**

    与云设备的通信必须具备良好甚至优质的网络条件，只要接入互联网，任何人在任何地方都可以访问到互联网上的云基础设施

3. **资源池化**

    云计算是一套云服务提供商提供的云基础设施，云基础设施里主要还是由处理业务的硬件设施组成，包括服务器主机、网络交换设备、数据存储设备等，无论云基础设施里存在多少种资源，最终支撑业务的一定都是硬件的基础设施。云计算软件的功能之一，是实现了提取硬件基础设施的物理资源、功能，并切片整合为抽象的虚拟资源池，资源池具有去差异化、通用化等特性，物理资源的池化能够实现硬件的复用（不同的虚拟资源对应同一个物理资源）

    云计算软件对底层硬件基础设施的种类没有限制，例如一个虚拟资源池下面可以使用不同厂家的硬件服务器和存储、不同厂家的CPU、GPU等，所有硬件资源的差异化都可以通过云计算软件层，将不同硬件资源的功能、能力提取出来，将差异化、多样化的资源转换为通用的、无差异化资源，通过云计算软件层屏蔽硬件资源的差异性

4. **快速弹性伸缩**

    能随时根据业务量的变化快速调整云设备的数量和性能，以最小化节省成本

5. **可计量服务**

    对使用的虚拟资源，使用的时间及访问的流量都可以作为服务的计量

云计算通过软件技术将物理硬件的各种资源抽象出来，切片转换成虚拟资源，虚拟资源的颗粒度一定可以比物理资源的颗粒度更小；云计算软件层屏蔽掉硬件资源的差异性的同时，也会屏蔽掉硬件的特性，厂家也存在相应的实现方式可以将某些特定硬件的特性输出给消费者

### 云计算的三种服务模式

服务面向用户，用户购买产品，产品服务就对应着具体的业务，业务驱动软件引擎，软件引擎驱动硬件，通过软件引擎实现了用户的自动化的消费，最终还是需要通过硬件自身的能力实现业务需求，硬件资源的调度、分配、资源申请、资源释放等动作都是通过软件引擎实现的自动化

- **IaaS（Infrastructure as a Service）**

    基础设施服务，面向管理员提供最底层的资源服务。传统DC中的基础设施包含服务器、存储、网络资源等，而云DC则通过IaaS向用户提供云基础资源，提供如云主机、云存储等产品

- **PaaS（Platform as a Service）**

    平台即服务，面向开发者提供一套开发环境，不关心基础设施环境，比如忽略底层的操作系统类型

- **SaaS（Software as a Service）**

    软件即服务，面向最终用户提供一个应用，如网易邮箱

### 云的部署模式

|        |        提供者         |   消费者   |                             价值                             |
| ------ | :-- | :-- | :-- |
| 公有云 | CSP (云服务提供商) 建 | 互联网用户 | 能力换取价值，通过对更细颗粒度的虚拟化资源的使用实现对硬件资源的调度使用，充分发挥硬件性能 |
| 私有云 |  企业或行业用户自建   |    自用    | 传统DC向云DC转型的过程，通过软件引擎，将硬件基础设施转换为云基础设施资源的过程 |
| 混合云 |  企业或行业用户自建   | 互联网用户 | 将应用的前端放在公有云上提供泛化接入，后端敏感数据输出回到企业私有云上，提供核心数据的保障 |

1. 公有云的优势：考虑到性价比的问题，公有云比较适合中小企业
2. 私有云的优劣：以提供服务为主的企业用户自建DC，所有数据都存放在企业内，保证**数据的隐秘性**。但必须要有专业的维护人员保证设备的正常运行，设备的老旧迭代、更新升级处理都是其缺点与不足
3. 混合云：无论公有云或私有云，云数据中心都是多区域的，大多数时候用户在整个互联网上，不同地域的用户访问云数据中心的时延体验是不一样的，所以可以考虑将公有云和私有云综合使用，企业可以将一部分面向互联网用户的业务接口放在公有云上，因为公有云的云服务提供商在全国各地都有其自己的数据中心，这样可以很理想的面向互联网用户提供近地访问，这样用户体验会非常好。不论公有云的数据中心遍布在全国的哪些地区，最终的数据都会连接到企业的私有云中，公有云为互联网用户提供最近距离的前端访问，而公有云与私有云之间则使用VPN专线进行数据传输，利用公有云承担一部分业务降低企业私有云的成本，而私有云则承担另外一些价值密度高、敏感的业务





#### 云计算小结

云数据中心最终要将云资源以一种产品的方式呈现，整套云基础设施应该能自动完成租户业务触发，软件定义资源部署。云计算一定要提供一种或多种能力，而能力最终还是由硬件基础设施提供，而中间则是通过软件将物理资源虚拟化以池的方式呈现供用户使用，不仅于此，软件还需要实现自动化的调度、分配、使用等。

```diff
- 所以云计算依赖于硬件基础设施，并通过软件技术来达到资源以一种全新的方式呈现
```

实际上传统数据中心与云数据中心的基础设施并无差异，云数据中心只是通过**软件**将物理资源池化、云化，以服务、产品的方式呈现给用户，对服务提供商来说以复用的方式最大化的物理设备的性能，消费的用户数量越多成本就越低，对企业用户来说降低运营成本，无需自建数据中心

```diff
- 现在的云基础设施是硬软混合的，最终以云平台的方式呈现给用户，用户在平台上消费服务
```

##### 计算发展史

1. 并行计算：大型机 - 将作业分成多个任务单元交给多个处理器
2. 分布式计算：将承担作业的多个节点放在互联网上，利用互联网上近乎于无穷大的节点数量将作业切片，分布到各个节点并行计算，计算完成后回到源端进行结果的聚合
3. 网格计算：按照特定的设备组合和算法完成作业
4. 云计算：分布式计算和网格计算普遍适用于专用领域，云计算则是适用于普适领域，通过物理资源池和虚拟化技术满足用户的各种需求

##### 云计算的发展

- 云计算1.0：计算虚拟化 - Hyper-v，XEN，KVM，VMware ESXi - 虚拟化更好的资源利用
- 云计算2.0：软件定义域整合 - OpenStack，VMware，AWS - 基础设施云化，资源服务标准化、自动化

```diff
+ 虚拟化OS与硬件是紧密耦合在一起的，而云OS则作为一个单独的软件，整合虚拟化资源转变为云资源池
```

- 云计算3.0：云原生与重构业务 - Docker，CoreOS，Cloud Foundry - 应用云化，敏捷应用开发与生命周期管理

```diff 
+ 云计算3.0依赖容器技术，实现操作系统级别的虚拟化，定义多个应用所需要的资源环境，面向应用的容器技术的出现，进一步将云资源进行切分
```

### 云计算与其他技术应用

- 物联网

- 大数据

- 人工智能

云计算、物联网和大数据之间的关系：物联网采集数据，汇聚到云计算平台，经过大数据算法计算后得出价值数据

##### 容器

容器是一种轻量级的虚拟化技术，也就是OS虚拟化技术，允许在同一OS上的用户空间分割为多个独立的单元在内核中运行，彼此互不干扰。这样的一个独立的空间被称为一个容器，容器是对OS上的资源进行划分的，容器不关心硬件基础设施，因为容器是面向应用的，应用的下一层还存在OS，而VM是对硬件资源进行划分的

**Docker**：目前业界最流行的开源容器引擎，用于管理容器

[docker笔录](https://github.com/Hebolinux/docker)

#### 边缘计算

云计算的兴起得益于网络技术的成熟，云计算是一个云端的主要提供集中的输出能力的形态，虽然云服务提供商的云数据中心遍布全球，但在一个区域内，云数据中心也仅有为数不多的一两个，这就造成了云数据中心离不同的用户和设备仍有距离远近之分。这个问题在物联网的场景下尤为突出，为了解决这个问题，**在物联网的终端附近提供一个有计算能力的本地计算节点，将所有分布式的计算节点组合为一个区域式的计算中心，这就是边缘计算**，其价值在于分布、离边缘设备最接近，能够尽可能快的为边缘设备计算能力，实时得到数据信息并处理。

边缘计算对计算能力要求不高，主要侧重于物联网的时效性要求。由于边缘设备的数据量不多，所需要的计算能力也不大，所以分布式的本地计算节点不需要像云计算一样提供强大的计算能力，边缘计算能够与云计算非常好的配合，边缘计算自身处理对时效性要求高的数据，其他数据则交由云计算处理

#### 雾计算

雾计算中的数据、处理和应用程序集中在网络边缘的设备中，而不是几乎全保存在云中，是云计算的延伸概念

#### 微服务

独立部署、灵活扩展，资源隔离，组织架构的优化调整

##### 无服务器

- FaaS：函数即服务，面向不同的用户分发不同的API

- BaaS：后端即服务，分发后端运行环境